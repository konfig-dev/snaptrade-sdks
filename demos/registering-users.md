# Registering Users

### 1) Initialize a client with your clientId and consumerKey

You can get your `clientId` and `consumerKey` by contacting [api@snaptrade.com](mailto:api@snaptrade.com)

:::form

::enum{name=SNAPTRADE_CLIENT_ID label="Client ID" placeholder="YOUR_CLIENT_ID" savedData=SNAPTRADE_CLIENT_ID description="The ID entered on the first SDK intialization"}

::enum{name=SNAPTRADE_CONSUMER_KEY label="Consumer Key" placeholder="YOUR_CONSUMER_KEY" savedData=SNAPTRADE_CONSUMER_KEY description="The consumer key entered on the first SDK intialization"}

```python
from snaptrade_client import SnapTrade
import json
import uuid
import os

snaptrade = SnapTrade(
consumer_key=SNAPTRADE_CONSUMER_KEY,
client_id=SNAPTRADE_CLIENT_ID,
)

print("Successfully initiated client")
```

::button[Initialize SDK Client]

:::

### 2) Check that the client is able to make a request to the API server

Call the API Status endpoint to make sure the API is live and that you can make
the most basic request. You should receive a response indicating the API status,
current server timestamp, and internal API minor version number.

:::form

```python
api_response = snaptrade.api_status.check()
print(json.dumps(api_response.body, indent=2))
```

::button[Check API Status]

:::

### 3) Register User

To create a secure brokerage authorization, we first need to register a test
user. Call the Register user endpoint with a userId which can be any string as
long as it's unique to a user. Upon receiving a 200 response, the user is
registered successfully and you should receive a response with a user id and a
randomly generated user secret. You can think of the user secret like a per-user
API key that provides an additional layer of security for protecting user data.
The user id and user secret need to be passed along to all SnapTrade API
endpoints that involve access to user data.

:::form

::input{name=SNAPTRADE_USER_ID label="SnapTrade User ID" placeholder="YOUR_SNAPTRADE_USER_ID" type="password"}

```python
user_id = SNAPTRADE_USER_ID
register_response = snaptrade.authentication.register_snap_trade_user(
user_id=user_id
)
print(json.dumps(register_response.body, indent=2))

# Note: A user secret is only generated once. It's required to access

# resources for certain endpoints.

user_secret = register_response.body["userSecret"]
```

::button[Create a new user on SnapTrade]

:::

### 4) Login User

SnapTrade partners need to generate a redirect URI for a user so they can
securely log in to the SnapTrade Connection portal and connect their accounts.
The redirect URI can be generated by sending a POST request to the Login
endpoint. userId and userSecret (previously generated through calling the
registerUser endpoint) have to be in the query parameters of the POST request.
The response would indicate a redirectURI to be used for login a user to the
SnapTrade portal.

:::form

```python
redirect_uri = snaptrade.authentication.login_snap_trade_user(
user_id=user_id, user_secret=user_secret
)

print(json.dumps(redirect_uri.body, indent=2))
```

::button[Login User]

:::

### 5) List Users

:::form

```python
users = snaptrade.authentication.list_snap_trade_users()
print(json.dumps(users.body, indent=2))
```

::button[List Users]

:::

### 6) Deleting a user

Disabling all brokerage authorizations and permanently deleting all data
associated with the user

:::form

```python
deleted_response = snaptrade.authentication.delete_snap_trade_user(
user_id=user_id
)
print(json.dumps(deleted_response.body, indent=2))
```

::button[Delete User]

:::
